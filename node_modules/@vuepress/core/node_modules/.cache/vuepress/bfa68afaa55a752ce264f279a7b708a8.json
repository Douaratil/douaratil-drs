{"remainingRequest":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/components/MyMagicItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/components/MyMagicItems.vue","mtime":1640161622028},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/babel-loader/lib/index.js","mtime":1640785878529},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js","mtime":1640785880897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNYWdpY0l0ZW0gZnJvbSAnQHRoZW1lL2NvbXBvbmVudHMvTWFnaWNJdGVtJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNeU1hZ2ljSXRlbXMnLAoKICBjb21wb25lbnRzOiB7CiAgICBNYWdpY0l0ZW0KICB9LAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvcnRCeTogJ3RpdGxlJywKICAgICAgc29ydERlc2M6IGZhbHNlLAogICAgICBoZWFkZXJzOiBbCiAgICAgICAgeyB0ZXh0OiAiTm9tIiwgYWxpZ246ICdzdGFydCcsIHNvcnRhYmxlOiB0cnVlLCB2YWx1ZTogJ3RpdGxlJyB9LAogICAgICAgIHsgdGV4dDogIlR5cGUiLCBhbGlnbjogJ3N0YXJ0Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ2Zyb250bWF0dGVyLnR5cGUnIH0sCiAgICAgICAgeyB0ZXh0OiAiUmFyZXTDqSIsIGFsaWduOiAnc3RhcnQnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnZnJvbnRtYXR0ZXIucmFyaXR5JyB9LAogICAgICAgIHsgdGV4dDogIkhhcm1vbmlzYXRpb24iLCBhbGlnbjogJ3N0YXJ0Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ2Zyb250bWF0dGVyLmF0dHVuZW1lbnQnIH0sCiAgICAgICAgeyB0ZXh0OiAiIiwgYWxpZ246ICdjZW50ZXInLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnYWN0aW9ucycgfSwKICAgICAgXSwKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgbWFnaWNJdGVtcyAoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5teU1hZ2ljSXRlbXMubWFnaWNJdGVtcwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZUhpZGVQcmludCAobWFnaWNJdGVtKSB7CiAgICAgIGlmICh0aGlzLmlzSGlkZGVuUHJpbnQobWFnaWNJdGVtKSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbXlNYWdpY0l0ZW1zL3JlbW92ZU5vdFByaW50ZWRNYWdpY0l0ZW0nLCBtYWdpY0l0ZW0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdteU1hZ2ljSXRlbXMvYWRkTm90UHJpbnRlZE1hZ2ljSXRlbScsIG1hZ2ljSXRlbSkKICAgICAgfQogICAgfSwKICAgIGlzSGlkZGVuUHJpbnQgKG1hZ2ljSXRlbSkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUubXlNYWdpY0l0ZW1zLm5vdFByaW50ZWRNYWdpY0l0ZW1zKSB7CiAgICAgICAgbGV0IGlkeCA9IHRoaXMuJHN0b3JlLnN0YXRlLm15TWFnaWNJdGVtcy5ub3RQcmludGVkTWFnaWNJdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmtleSA9PSBtYWdpY0l0ZW0ua2V5KQogICAgICAgIGlmIChpZHggPj0gMCkgewogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlCiAgICB9LAogICAgb25DbGlja1JvdyAocm93LCBpdGVtKSB7CiAgICAgIGl0ZW0uZXhwYW5kKCFpdGVtLmlzRXhwYW5kZWQpCiAgICB9LAogICAgcmVtb3ZlTWFnaWNJdGVtIChtYWdpY0l0ZW0pIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdteU1hZ2ljSXRlbXMvcmVtb3ZlTWFnaWNJdGVtJywgbWFnaWNJdGVtKQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFNuYWNrYmFyVGV4dCcsICJMJ29iamV0IG1hZ2lxdWUgIiArIG1hZ2ljSXRlbS50aXRsZSArICIgYSDDqXTDqSBzdXBwcmltw6kgZGUgdm90cmUgYmlibGlvdGjDqHF1ZSIpCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNPcGVuU25hY2tiYXInLCB0cnVlKQogICAgfSwKICAgIHNoYXJlIChpdGVtKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0U2hhcmVVUkknLCBlbmNvZGUoaXRlbSkpCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNPcGVuU2hhcmVIb21lYnJld0RpYWxvZycsIHRydWUpCiAgICB9LAogICAgZ2V0TWFnaWNJdGVtIChpdGVtKSB7CiAgICAgIGlmICghaXRlbS5jdXN0b20gJiYgaXRlbS5wYXRoKSB7CiAgICAgICAgbGV0IG1hZ2ljSXRlbSA9IHRoaXMuJHNpdGUucGFnZXMuZmluZCgoZWwpID0+IGVsLnBhdGggPT09IGl0ZW0ucGF0aCB8fCBlbC5wYXRoID09PSBpdGVtLnBhdGggKyAiLyIpCiAgICAgICAgcmV0dXJuIG1hZ2ljSXRlbQogICAgICB9CiAgICAgIHJldHVybiBpdGVtCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["MyMagicItems.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyMagicItems.vue","sourceRoot":"docs/.vuepress/theme/components","sourcesContent":["<template>\n  <main class=\"page content\">\n    <div class=\"theme-default-content\">\n      <div v-if=\"magicItems.length > 0\">\n\n        <div class=\"d-print-none mb-12\">\n\n          <v-data-table\n            class=\"data-table\"\n            :headers=\"headers\"\n            :items=\"magicItems\"\n            item-key=\"key\"\n            :sort-by=\"sortBy\"\n            :sort-desc=\"sortDesc\"\n            must-sort\n            :items-per-page=\"-1\"\n            hide-default-footer\n            show-expand\n            @click:row=\"onClickRow\"\n          >\n\n            <template v-slot:expanded-item=\"{ headers, item }\">\n              <td :colspan=\"headers.length\" class=\"pa-4\">\n                <MagicItem :magicItem=\"getMagicItem(item)\" />\n              </td>\n            </template>\n\n            <template v-slot:item.title=\"{ item }\">\n              <span class=\"subtitle-2\">{{ item.title }}</span>\n            </template>\n\n            <template v-slot:item.frontmatter.attunement=\"{ item }\">\n              <span v-if=\"item.frontmatter.attunement\">{{ item.frontmatter.attunement }}</span>\n            </template>\n\n            <template v-slot:item.actions=\"{ item }\">\n              <div class=\"text-no-wrap\">\n                <v-btn class=\"d-print-none\" v-if=\"item.custom\" small depressed icon @click=\"share(item)\"><v-icon>mdi-share-variant</v-icon></v-btn>\n                <v-btn class=\"d-print-none mr-2\" small depressed icon @click.stop=\"toggleHidePrint(item)\">\n                  <v-icon v-if=\"isHiddenPrint(item)\">mdi-printer-off</v-icon>\n                  <v-icon v-else>mdi-printer</v-icon>\n                </v-btn>\n                <v-btn class=\"d-print-none mr-2\" small depressed link icon :to=\"{ path: '/creation-d-objet-magique/', query: { key: item.key } }\"><v-icon>mdi-pencil</v-icon></v-btn>\n                <v-btn color=\"error\" class=\"d-print-none\" small depressed icon @click=\"removeMagicItem(item)\"><v-icon>mdi-delete</v-icon></v-btn>\n              </div>\n            </template>\n\n          </v-data-table>\n        </div>\n\n        <div class=\"d-none d-print-block column-count-2\">\n          <div v-for=\"magicItem in magicItems\">\n            <div v-if=\"!isHiddenPrint(magicItem)\">\n              <h2 class=\"d-flex align-center\">\n                <div class=\"mr-4\">{{ magicItem.title }}</div>\n                <v-btn class=\"d-print-none mr-2\" small depressed link :to=\"{ path: '/creation-de-sort/', query: { key: magicItem.key } }\"><v-icon left>mdi-pencil</v-icon> Modifier</v-btn>\n                <v-btn color=\"error\" class=\"d-print-none\" small depressed @click=\"removeMagicItem(magicItem)\"><v-icon left>mdi-delete</v-icon> Supprimer</v-btn>\n              </h2>\n              <MagicItem :magicItem=\"getMagicItem(magicItem)\" :isList=\"true\" :hideTitle=\"true\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <template v-else>\n        Vous n'avez aucun objet magique.\n      </template>\n    </div>\n\n  </main>\n</template>\n\n<script>\nimport MagicItem from '@theme/components/MagicItem'\n\nexport default {\n  name: 'MyMagicItems',\n\n  components: {\n    MagicItem\n  },\n\n  data () {\n    return {\n      sortBy: 'title',\n      sortDesc: false,\n      headers: [\n        { text: \"Nom\", align: 'start', sortable: true, value: 'title' },\n        { text: \"Type\", align: 'start', sortable: false, value: 'frontmatter.type' },\n        { text: \"Rareté\", align: 'start', sortable: false, value: 'frontmatter.rarity' },\n        { text: \"Harmonisation\", align: 'start', sortable: false, value: 'frontmatter.attunement' },\n        { text: \"\", align: 'center', sortable: false, value: 'actions' },\n      ],\n    }\n  },\n\n  computed: {\n    magicItems () {\n      return this.$store.state.myMagicItems.magicItems\n    }\n  },\n\n  methods: {\n    toggleHidePrint (magicItem) {\n      if (this.isHiddenPrint(magicItem)) {\n        this.$store.commit('myMagicItems/removeNotPrintedMagicItem', magicItem)\n      } else {\n        this.$store.commit('myMagicItems/addNotPrintedMagicItem', magicItem)\n      }\n    },\n    isHiddenPrint (magicItem) {\n      if (this.$store.state.myMagicItems.notPrintedMagicItems) {\n        let idx = this.$store.state.myMagicItems.notPrintedMagicItems.findIndex(item => item.key == magicItem.key)\n        if (idx >= 0) {\n          return true\n        }\n      }\n      return false\n    },\n    onClickRow (row, item) {\n      item.expand(!item.isExpanded)\n    },\n    removeMagicItem (magicItem) {\n      this.$store.commit('myMagicItems/removeMagicItem', magicItem)\n      this.$store.commit('setSnackbarText', \"L'objet magique \" + magicItem.title + \" a été supprimé de votre bibliothèque\")\n      this.$store.commit('setIsOpenSnackbar', true)\n    },\n    share (item) {\n      this.$store.commit('setShareURI', encode(item))\n      this.$store.commit('setIsOpenShareHomebrewDialog', true)\n    },\n    getMagicItem (item) {\n      if (!item.custom && item.path) {\n        let magicItem = this.$site.pages.find((el) => el.path === item.path || el.path === item.path + \"/\")\n        return magicItem\n      }\n      return item\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n</style>\n"]}]}