{"remainingRequest":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/components/MagicItemFilters.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/components/MagicItemFilters.vue","mtime":1640161622028},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/babel-loader/lib/index.js","mtime":1640785878529},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js","mtime":1640785880897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7IHNldFVybFBhcmFtcywgZ2V0VXJsUGFyYW1ldGVyLCBzZXRCb29sZWFuTXV0YXRpb24sIHNldExpc3RNdXRhdGlvbiB9IGZyb20gJ0B0aGVtZS91dGlsL2ZpbHRlckhlbHBlcnMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hZ2ljSXRlbUZpbHRlcnMnLAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhbmVsczogW10sCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHNlYXJjaDogewogICAgICBnZXQgKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tYWdpY0l0ZW1GaWx0ZXJzLnNlYXJjaAogICAgICB9LAogICAgICBzZXQgKG5ld1ZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtYWdpY0l0ZW1GaWx0ZXJzL3NldFNlYXJjaCcsIG5ld1ZhbHVlKQogICAgICB9CiAgICB9LAoKICAgIHR5cGVzOiB7CiAgICAgIGdldCAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1hZ2ljSXRlbUZpbHRlcnMudHlwZXMKICAgICAgfSwKICAgICAgc2V0IChuZXdWYWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbWFnaWNJdGVtRmlsdGVycy9zZXRUeXBlcycsIG5ld1ZhbHVlKQogICAgICB9CiAgICB9LAoKICAgIHJhcml0aWVzOiB7CiAgICAgIGdldCAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1hZ2ljSXRlbUZpbHRlcnMucmFyaXRpZXMKICAgICAgfSwKICAgICAgc2V0IChuZXdWYWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbWFnaWNJdGVtRmlsdGVycy9zZXRSYXJpdGllcycsIG5ld1ZhbHVlKQogICAgICB9CiAgICB9LAoKICAgIGhhc0F0dHVuZW1lbnQ6IHsKICAgICAgZ2V0ICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubWFnaWNJdGVtRmlsdGVycy5oYXNBdHR1bmVtZW50CiAgICAgIH0sCiAgICAgIHNldCAobmV3VmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21hZ2ljSXRlbUZpbHRlcnMvc2V0SGFzQXR0dW5lbWVudCcsIG5ld1ZhbHVlKQogICAgICB9CiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKCiAgICBzd2l0Y2hUeXBlICgpIHsKICAgICAgbGV0IGxpc3QgPSBbXQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudHlwZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy50eXBlc1tpXS52YWx1ZSkgewogICAgICAgICAgbGlzdC5wdXNoKHRoaXMudHlwZXNbaV0ubGFiZWwpCiAgICAgICAgfQogICAgICB9CiAgICAgIHNldFVybFBhcmFtcygndHlwZXMnLCBsaXN0KQogICAgfSwKCiAgICBzd2l0Y2hSYXJpdHkgKCkgewogICAgICBsZXQgbGlzdCA9IFtdCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yYXJpdGllcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnJhcml0aWVzW2ldLnZhbHVlKSB7CiAgICAgICAgICBsaXN0LnB1c2godGhpcy5yYXJpdGllc1tpXS5sYWJlbCkKICAgICAgICB9CiAgICAgIH0KICAgICAgc2V0VXJsUGFyYW1zKCdyYXJldGVzJywgbGlzdCkKICAgIH0sCgogICAgc3dpdGNoSGFzQXR0dW5lbWVudCAoKSB7CiAgICAgIGxldCB2YWx1ZSA9IFtdCiAgICAgIGlmICgodGhpcy5oYXNBdHR1bmVtZW50ICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgdmFsdWVbMF0gPSB0aGlzLmhhc0F0dHVuZW1lbnQKICAgICAgfQogICAgICBzZXRVcmxQYXJhbXMoJ2hhcm1vbmlzYXRpb24nLCB2YWx1ZSkKICAgIH0sCgogICAgc2V0Q29sb3IgKHZhbHVlLCBjb21wYXJlLCBjb2xvcikgewogICAgICBpZiAodmFsdWUgPT09IGNvbXBhcmUpIHsKICAgICAgICByZXR1cm4gY29sb3IKICAgICAgfQogICAgICByZXR1cm4gdGhpcy4kc2l0ZS50aGVtZUNvbmZpZy5wcmltYXJ5Q29sb3IKICAgIH0sCgogICAgcmVzZXRUeXBlcyAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbWFnaWNJdGVtRmlsdGVycy9yZXNldFR5cGVzJykKICAgICAgdGhpcy5zd2l0Y2hUeXBlKCkKICAgIH0sCgogICAgcmVzZXRSYXJpdGllcyAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbWFnaWNJdGVtRmlsdGVycy9yZXNldFJhcml0aWVzJykKICAgICAgdGhpcy5zd2l0Y2hSYXJpdHkoKQogICAgfSwKICB9LAoKICBtb3VudGVkICgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYWdpY0l0ZW1GaWx0ZXJzL3Jlc2V0JykKCiAgICBsZXQgc2VsZWN0ZWRSYXJpdGllcyA9IGdldFVybFBhcmFtZXRlcih3aW5kb3cubG9jYXRpb24uaHJlZiwgInJhcmV0ZXMiKS5zcGxpdCgiLCIpCiAgICBsZXQgc2VsZWN0ZWRUeXBlcyA9IGdldFVybFBhcmFtZXRlcih3aW5kb3cubG9jYXRpb24uaHJlZiwgInR5cGVzIikuc3BsaXQoIiwiKQogICAgbGV0IGhhc0F0dHVuZW1lbnQgPSBnZXRVcmxQYXJhbWV0ZXIod2luZG93LmxvY2F0aW9uLmhyZWYsICJoYXJtb25pc2F0aW9uIikKCiAgICBzZXRMaXN0TXV0YXRpb24oc2VsZWN0ZWRUeXBlcywgdGhpcy4kc3RvcmUsICdtYWdpY0l0ZW1GaWx0ZXJzL3NldFR5cGVzRnJvbUxpc3QnKQogICAgc2V0TGlzdE11dGF0aW9uKHNlbGVjdGVkUmFyaXRpZXMsIHRoaXMuJHN0b3JlLCAnbWFnaWNJdGVtRmlsdGVycy9zZXRSYXJpdGllc0Zyb21MaXN0JykKCiAgICBzZXRCb29sZWFuTXV0YXRpb24oaGFzQXR0dW5lbWVudCwgdGhpcy4kc3RvcmUsICdtYWdpY0l0ZW1GaWx0ZXJzL3NldEhhc0F0dHVuZW1lbnQnKQogIH0KfQo="},{"version":3,"sources":["MagicItemFilters.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"MagicItemFilters.vue","sourceRoot":"docs/.vuepress/theme/components","sourcesContent":["<template>\n  <div class=\"magic-item-filters pa-1\">\n\n    <v-text-field\n      class=\"mb-1\"\n      v-model=\"search\"\n      label=\"Filtrer\"\n      single-line\n      hide-details\n      clearable\n      color=\"accent\"\n      ></v-text-field>\n\n    <v-expansion-panels multiple flat hover v-model=\"panels\">\n\n      <v-expansion-panel>\n        <v-expansion-panel-header>Types</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <v-btn class=\"mb-2 mt-2\" small color=\"primary\" @click=\"resetTypes\" dark>Réinitialiser</v-btn>\n          <v-switch v-for=\"(type, idx) in types\" v-model=\"type.value\" :label=\"type.label\" dense class=\"ma-0\" @change=\"switchType\" color=\"accent\"></v-switch>\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n\n      <v-expansion-panel>\n        <v-expansion-panel-header>Raretés</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <v-btn class=\"mb-2 mt-2\" small color=\"primary\" @click=\"resetRarities\" dark>Réinitialiser</v-btn>\n          <v-switch v-for=\"rarity in rarities\" v-model=\"rarity.value\" :label=\"rarity.label\" dense class=\"ma-0\" @change=\"switchRarity\" color=\"accent\"></v-switch>\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n\n      <v-expansion-panel>\n        <v-expansion-panel-header>Harmonisation</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <div class=\"d-flex mt-2 mb-4\">\n            <v-btn-toggle v-model=\"hasAttunement\" @change=\"switchHasAttunement\" dark>\n              <v-btn :value=\"true\" small :color=\"setColor(hasAttunement, true, 'green')\">\n                <v-icon>mdi-check</v-icon>\n              </v-btn>\n              <v-btn :value=\"false\" small :color=\"setColor(hasAttunement, false, 'red')\">\n                <v-icon>mdi-close</v-icon>\n              </v-btn>\n            </v-btn-toggle>\n\n            <p class=\"mt-0 mb-0 ml-2\">Harmonisation</p>\n          </div>\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n\n    </v-expansion-panels>\n\n  </div>\n</template>\n\n<script>\n// import { mapMutations } from 'vuex'\nimport { setUrlParams, getUrlParameter, setBooleanMutation, setListMutation } from '@theme/util/filterHelpers'\n\nexport default {\n  name: 'MagicItemFilters',\n\n  data () {\n    return {\n      panels: [],\n    }\n  },\n\n  computed: {\n    search: {\n      get () {\n        return this.$store.state.magicItemFilters.search\n      },\n      set (newValue) {\n        this.$store.commit('magicItemFilters/setSearch', newValue)\n      }\n    },\n\n    types: {\n      get () {\n        return this.$store.state.magicItemFilters.types\n      },\n      set (newValue) {\n        this.$store.commit('magicItemFilters/setTypes', newValue)\n      }\n    },\n\n    rarities: {\n      get () {\n        return this.$store.state.magicItemFilters.rarities\n      },\n      set (newValue) {\n        this.$store.commit('magicItemFilters/setRarities', newValue)\n      }\n    },\n\n    hasAttunement: {\n      get () {\n        return this.$store.state.magicItemFilters.hasAttunement\n      },\n      set (newValue) {\n        this.$store.commit('magicItemFilters/setHasAttunement', newValue)\n      }\n    },\n  },\n\n  methods: {\n\n    switchType () {\n      let list = []\n      for (var i = 0; i < this.types.length; i++) {\n        if (this.types[i].value) {\n          list.push(this.types[i].label)\n        }\n      }\n      setUrlParams('types', list)\n    },\n\n    switchRarity () {\n      let list = []\n      for (var i = 0; i < this.rarities.length; i++) {\n        if (this.rarities[i].value) {\n          list.push(this.rarities[i].label)\n        }\n      }\n      setUrlParams('raretes', list)\n    },\n\n    switchHasAttunement () {\n      let value = []\n      if ((this.hasAttunement !== undefined)) {\n        value[0] = this.hasAttunement\n      }\n      setUrlParams('harmonisation', value)\n    },\n\n    setColor (value, compare, color) {\n      if (value === compare) {\n        return color\n      }\n      return this.$site.themeConfig.primaryColor\n    },\n\n    resetTypes () {\n      this.$store.commit('magicItemFilters/resetTypes')\n      this.switchType()\n    },\n\n    resetRarities () {\n      this.$store.commit('magicItemFilters/resetRarities')\n      this.switchRarity()\n    },\n  },\n\n  mounted () {\n    this.$store.dispatch('magicItemFilters/reset')\n\n    let selectedRarities = getUrlParameter(window.location.href, \"raretes\").split(\",\")\n    let selectedTypes = getUrlParameter(window.location.href, \"types\").split(\",\")\n    let hasAttunement = getUrlParameter(window.location.href, \"harmonisation\")\n\n    setListMutation(selectedTypes, this.$store, 'magicItemFilters/setTypesFromList')\n    setListMutation(selectedRarities, this.$store, 'magicItemFilters/setRaritiesFromList')\n\n    setBooleanMutation(hasAttunement, this.$store, 'magicItemFilters/setHasAttunement')\n  }\n}\n</script>\n\n<style lang=\"scss\">\n</style>\n"]}]}