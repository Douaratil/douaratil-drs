{"remainingRequest":"/home/olivier/Documents/douaratil-drs/node_modules/babel-loader/lib/index.js??ref--3-1!/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/layouts/MyMagicItemsLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/layouts/MyMagicItemsLayout.vue","mtime":1634294763189},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL29saXZpZXIvRG9jdW1lbnRzL2RvdWFyYXRpbC1kcnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQnJlYWRjcnVtYiBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9CcmVhZGNydW1iJzsKaW1wb3J0IE15TWFnaWNJdGVtcyBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9NeU1hZ2ljSXRlbXMnOwppbXBvcnQgeyBzYXZlQXMgfSBmcm9tICdmaWxlLXNhdmVyJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNeU1hZ2ljSXRlbXNMYXlvdXQnLAogIGNvbXBvbmVudHM6IHsKICAgIEJyZWFkY3J1bWI6IEJyZWFkY3J1bWIsCiAgICBNeU1hZ2ljSXRlbXM6IE15TWFnaWNJdGVtcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzVXBsb2FkaW5nOiBmYWxzZSwKICAgICAgY29uZmlybURlbGV0ZURpYWxvZzogZmFsc2UsCiAgICAgIGFsZXJ0T3BlbjogZmFsc2UsCiAgICAgIGFsZXJ0VGV4dDogbnVsbCwKICAgICAgYWxlcnRUeXBlOiAiaW5mbyIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQoKSB7CiAgICAgIHNhdmVBcyhuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuc3RhdGUubXlNYWdpY0l0ZW1zKV0sIHsKICAgICAgICB0eXBlOiAidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04IgogICAgICB9KSwgIm9iamV0cy1tYWdpcXVlcy5qc29uIik7CiAgICB9LAogICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoZSkgewogICAgICB2YXIgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICBjb25zb2xlLmxvZyhmaWxlKTsKCiAgICAgIGlmICghZmlsZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UocmVhZGVyLnJlc3VsdCk7CiAgICAgICAgdmFyIGlzVmFsaWQgPSB0cnVlOwoKICAgICAgICBpZiAocmVzdWx0Lm1hZ2ljSXRlbXMgJiYgcmVzdWx0Lm1hZ2ljSXRlbXMubGVuZ3RoID49IDEpIHsKICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZXN1bHQubWFnaWNJdGVtcyksCiAgICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgcyA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICBpZiAocy5waWQgIT09ICdtYWdpY2l0ZW0nKSB7CiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgICAgICBzZWxmLiRzdG9yZS5jb21taXQoJ215TWFnaWNJdGVtcy9zZXRNYWdpY0l0ZW1zJywgcmVzdWx0Lm1hZ2ljSXRlbXMpOwoKICAgICAgICAgIGlmIChyZXN1bHQubm90UHJpbnRlZE1hZ2ljSXRlbXMpIHsKICAgICAgICAgICAgc2VsZi4kc3RvcmUuY29tbWl0KCdteU1hZ2ljSXRlbXMvc2V0Tm90UHJpbnRlZE1hZ2ljSXRlbXMnLCByZXN1bHQubm90UHJpbnRlZE1hZ2ljSXRlbXMpOwogICAgICAgICAgfQoKICAgICAgICAgIHNlbGYuJHN0b3JlLmNvbW1pdCgnc2V0U25hY2tiYXJUZXh0Jywgc2VsZi4kc3RvcmUuc3RhdGUubXlNYWdpY0l0ZW1zLm1hZ2ljSXRlbXMubGVuZ3RoICsgIiBvYmpldHMgbWFnaXF1ZXMgaW5zY3JpdHMgZGFucyB2b3RyZSBiaWJsaW90aMOocXVlIik7CiAgICAgICAgICBzZWxmLiRzdG9yZS5jb21taXQoJ3NldElzT3BlblNuYWNrYmFyJywgdHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlbGYuJHN0b3JlLmNvbW1pdCgnc2V0U25hY2tiYXJUZXh0JywgIkxlIGZpY2hpZXIgZXN0IGludmFsaWRlIik7CiAgICAgICAgICBzZWxmLiRzdG9yZS5jb21taXQoJ3NldElzT3BlblNuYWNrYmFyJywgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7CiAgICAgIHRoaXMuJHJlZnMudXBsb2FkZXIudmFsdWUgPSAnJzsKICAgIH0sCiAgICBvblVwbG9hZENsaWNrOiBmdW5jdGlvbiBvblVwbG9hZENsaWNrKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5pc1VwbG9hZGluZyA9IHRydWU7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pc1VwbG9hZGluZyA9IGZhbHNlOwogICAgICB9LCB7CiAgICAgICAgb25jZTogdHJ1ZQogICAgICB9KTsKICAgICAgdGhpcy4kcmVmcy51cGxvYWRlci5jbGljaygpOwogICAgfSwKICAgIHByaW50OiBmdW5jdGlvbiBwcmludCgpIHsKICAgICAgd2luZG93LnByaW50KCk7CiAgICB9LAogICAgY29uZmlybURlbGV0aW9uOiBmdW5jdGlvbiBjb25maXJtRGVsZXRpb24oKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbXlNYWdpY0l0ZW1zL3Jlc2V0TWFnaWNJdGVtcycpOwogICAgICB0aGlzLmNvbmZpcm1EZWxldGVEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRTbmFja2JhclRleHQnLCAiVm90cmUgYmlibGlvdGjDqHF1ZSBkJ29iamV0cyBtYWdpcXVlcyBhIMOpdMOpIGVmZmFjw6llIik7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNPcGVuU25hY2tiYXInLCB0cnVlKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEhhc1JpZ2h0RHJhd2VyJywgZmFsc2UpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRSaWdodERyYXdlcicsIHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC5sZ0FuZFVwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SW5SaWdodERyYXdlcicsIG51bGwpOwogIH0KfTs="},{"version":3,"sources":["MyMagicItemsLayout.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"my-magic-items\">\n    <div class=\"d-flex align-center mb-4 d-print-none\">\n      <Breadcrumb class=\"mr-auto\" />\n      <v-btn color=\"primary\" class=\"mr-4\" depressed link to=\"/creation-d-objet-magique/\"><v-icon left>mdi-plus</v-icon> Créer un objet magique</v-btn>\n      <v-btn color=\"primary\" depressed link to=\"/liste-objets-magiques/\">Liste des objets magiques</v-btn>\n    </div>\n\n\n    <v-dialog v-model=\"confirmDeleteDialog\" max-width=\"290\">\n      <v-card>\n        <v-card-title class=\"headline\">Supprimer les objets magiques</v-card-title>\n\n        <v-card-text>\n          Cette action supprimera tous les objets magiques ajoutés à votre bibliothèque, y compris les objets magiques que vous avez créés. Souhaitez vous les supprimer ?\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn depressed @click=\"confirmDeleteDialog = false\">\n            Annuler\n          </v-btn>\n\n          <v-btn color=\"error darken-1\" depressed @click=\"confirmDeletion\">\n            Supprimer\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-alert v-model=\"alertOpen\" :type=\"alertType\" dismissible transition=\"fade-transition\">\n      {{ alertText }}\n    </v-alert>\n\n    <MyMagicItems />\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from '@theme/components/Breadcrumb'\nimport MyMagicItems from '@theme/components/MyMagicItems'\nimport { saveAs } from 'file-saver'\n\nexport default {\n  name: 'MyMagicItemsLayout',\n\n  components: {\n    Breadcrumb,\n    MyMagicItems\n  },\n\n  data () {\n    return {\n      isUploading: false,\n      confirmDeleteDialog: false,\n      alertOpen: false,\n      alertText: null,\n      alertType: \"info\"\n    }\n  },\n\n  methods: {\n    download () {\n      saveAs(new Blob([JSON.stringify(this.$store.state.myMagicItems)], {\n          type: \"text/plain;charset=utf-8\"\n      }), \"objets-magiques.json\")\n    },\n\n    upload (e) {\n      let file = e.target.files[0]\n      console.log(file)\n      if (!file) {\n        return\n      }\n      let reader = new FileReader()\n      let self = this\n\n      reader.onload = function() {\n        let result = JSON.parse(reader.result)\n        let isValid = true\n        if (result.magicItems && result.magicItems.length >= 1) {\n          for (var s of result.magicItems) {\n            if (s.pid !== 'magicitem') {\n              isValid = false\n            }\n          }\n        } else {\n          isValid = false\n        }\n        if (isValid) {\n          self.$store.commit('myMagicItems/setMagicItems', result.magicItems)\n          if (result.notPrintedMagicItems) {\n            self.$store.commit('myMagicItems/setNotPrintedMagicItems', result.notPrintedMagicItems)\n          }\n          self.$store.commit('setSnackbarText', self.$store.state.myMagicItems.magicItems.length + \" objets magiques inscrits dans votre bibliothèque\")\n          self.$store.commit('setIsOpenSnackbar', true)\n        } else {\n          self.$store.commit('setSnackbarText', \"Le fichier est invalide\")\n          self.$store.commit('setIsOpenSnackbar', true)\n        }\n      }\n\n      reader.readAsText(file)\n      this.$refs.uploader.value = ''\n    },\n\n    onUploadClick () {\n      this.isUploading = true\n      window.addEventListener('focus', () => {\n        this.isUploading = false\n      }, { once: true })\n\n      this.$refs.uploader.click()\n    },\n\n    print () {\n      window.print()\n    },\n\n    confirmDeletion () {\n      this.$store.commit('myMagicItems/resetMagicItems')\n      this.confirmDeleteDialog = false\n      this.$store.commit('setSnackbarText', \"Votre bibliothèque d'objets magiques a été effacée\")\n      this.$store.commit('setIsOpenSnackbar', true)\n    }\n  },\n\n  mounted () {\n    this.$store.commit('setHasRightDrawer', false)\n    this.$store.commit('setRightDrawer', this.$vuetify.breakpoint.lgAndUp)\n    this.$store.commit('setInRightDrawer', null)\n  }\n}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"docs/.vuepress/theme/layouts"}]}