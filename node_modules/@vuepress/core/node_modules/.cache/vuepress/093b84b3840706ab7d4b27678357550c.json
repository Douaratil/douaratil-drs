{"remainingRequest":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/layouts/CreateSpellLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/layouts/CreateSpellLayout.vue","mtime":1640161622028},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/babel-loader/lib/index.js","mtime":1640785878529},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js","mtime":1640785880897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCcmVhZGNydW1iIGZyb20gJ0B0aGVtZS9jb21wb25lbnRzL0JyZWFkY3J1bWInCmltcG9ydCBTcGVsbCBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9TcGVsbCcKaW1wb3J0IE1hcmtkb3duRG9jIGZyb20gJ0B0aGVtZS9jb21wb25lbnRzL01hcmtkb3duRG9jJwppbXBvcnQgeyBzYXZlQXMgfSBmcm9tICdmaWxlLXNhdmVyJwppbXBvcnQgeyBDTEFTU0VTIH0gZnJvbSAnLi4vLi4vZGF0YS9jbGFzc2VzJwppbXBvcnQgeyBTUEVMTFNDSE9PTFMsIFNQRUxMTEVWRUxTIH0gZnJvbSAnLi4vLi4vZGF0YS9zcGVsbHMnCmltcG9ydCB7IGdldFVybFBhcmFtZXRlciB9IGZyb20gJ0B0aGVtZS91dGlsL2ZpbHRlckhlbHBlcnMnCmltcG9ydCB7IGlzUmVzb3VyY2VJbkxpYnJhcnkgfSBmcm9tICdAdGhlbWUvdXRpbCcKaW1wb3J0IHsgZW5jb2RlIH0gZnJvbSAnQHRoZW1lL3V0aWwvaG9tZWJyZXcnCmltcG9ydCBzbHVnaWZ5IGZyb20gJ3NsdWdpZnknCnNsdWdpZnkuZXh0ZW5kKHsiJyI6ICctJ30pCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NyZWF0ZVNwZWxsTGF5b3V0JywKCiAgY29tcG9uZW50czogewogICAgQnJlYWRjcnVtYiwKICAgIFNwZWxsLAogICAgTWFya2Rvd25Eb2MKICB9LAoKICBjb21wdXRlZDogewogICAgaXNTcGVsbEluU3BlbGxCb29rICgpIHsKICAgICAgcmV0dXJuIGlzUmVzb3VyY2VJbkxpYnJhcnkodGhpcy5zcGVsbCwgdGhpcy4kc3RvcmUuc3RhdGUubXlTcGVsbHMuc3BlbGxzKQogICAgfSwKCiAgICBkaXNwbGF5VG9nZ2xlU3BlbGxCdXR0b24gKCkgewogICAgICBpZiAodGhpcy5pc1NwZWxsSW5TcGVsbEJvb2spIHsKICAgICAgICByZXR1cm4gJ1N1cHByaW1lciBkZSBtb24gZ3JpbW9pcmUnCiAgICAgIH0KICAgICAgcmV0dXJuICdBam91dGVyIMOgIG1vbiBncmltb2lyZScKICAgIH0sCiAgfSwKCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBpc1VwbG9hZGluZzogZmFsc2UsCiAgICAgIHNjaG9vbHM6IFNQRUxMU0NIT09MUywKICAgICAgbGV2ZWxzOiBTUEVMTExFVkVMUywKICAgICAgY2xhc3NlczogQ0xBU1NFUywKICAgICAgc3BlbGw6IHsKICAgICAgICBjdXN0b206IHRydWUsCiAgICAgICAgcGlkOiAnc3BlbGwnLAogICAgICAgIGtleTogbnVsbCwKICAgICAgICBhdXRob3I6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBjb250ZW50OiAnJywKICAgICAgICBmcm9udG1hdHRlcjogewogICAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgICAgY2xhc3NlczogJycsCiAgICAgICAgICBjdXN0b21DbGFzc2VzOiAnJywKICAgICAgICAgIHNjaG9vbDogJycsCiAgICAgICAgICBsZXZlbDogJycsCiAgICAgICAgICByaXR1YWw6IGZhbHNlLAogICAgICAgICAgY2FzdGluZ190aW1lOiAnJywKICAgICAgICAgIHJhbmdlOiAnJywKICAgICAgICAgIGR1cmF0aW9uOiAnJywKICAgICAgICAgIGNvbmNlbnRyYXRpb246IGZhbHNlLAogICAgICAgICAgY29tcG9uZW50czogewogICAgICAgICAgICB2ZXJiYWw6IGZhbHNlLAogICAgICAgICAgICBzb21hdGljOiBmYWxzZSwKICAgICAgICAgICAgbWF0ZXJpYWw6IGZhbHNlLAogICAgICAgICAgICBtYXRlcmlhbHM6IG51bGwKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBkb3dubG9hZCAoKSB7CiAgICAgIGxldCBmaWxlbmFtZSA9ICJzb3J0Lmpzb24iCiAgICAgIGlmICh0aGlzLnNwZWxsLnRpdGxlICE9PSAnJykgewogICAgICAgIGZpbGVuYW1lID0gc2x1Z2lmeSh0aGlzLnNwZWxsLnRpdGxlLCB7bG93ZXI6IHRydWUsIHN0cmljdDogdHJ1ZX0pICsgJy5qc29uJwogICAgICB9CiAgICAgIHNhdmVBcyhuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkodGhpcy5zcGVsbCldLCB7CiAgICAgICAgICB0eXBlOiAidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04IgogICAgICB9KSwgZmlsZW5hbWUpCiAgICB9LAoKICAgIHVwbG9hZCAoZSkgewogICAgICBsZXQgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdCiAgICAgIGlmICghZmlsZSkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpCiAgICAgIGxldCBzZWxmID0gdGhpcwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgIGxldCByZXN1bHQgPSBKU09OLnBhcnNlKHJlYWRlci5yZXN1bHQpCiAgICAgICAgaWYgKHJlc3VsdC5waWQgPT0gJ3NwZWxsJykgewogICAgICAgICAgc2VsZi5zcGVsbCA9IHJlc3VsdAogICAgICAgICAgc2VsZi4kc3RvcmUuY29tbWl0KCdzZXRTbmFja2JhclRleHQnLCAiTGUgc29ydCAiICsgc2VsZi5zcGVsbC50aXRsZSArICIgYSDDqXTDqSBjaGFyZ8OpIikKICAgICAgICAgIHNlbGYuJHN0b3JlLmNvbW1pdCgnc2V0SXNPcGVuU25hY2tiYXInLCB0cnVlKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWxmLiRzdG9yZS5jb21taXQoJ3NldFNuYWNrYmFyVGV4dCcsICJMZSBmaWNoaWVyIGVzdCBpbnZhbGlkZSIpCiAgICAgICAgICBzZWxmLiRzdG9yZS5jb21taXQoJ3NldElzT3BlblNuYWNrYmFyJywgdHJ1ZSkKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpCiAgICAgIHRoaXMuJHJlZnMudXBsb2FkZXIudmFsdWUgPSAnJwogICAgfSwKCiAgICBvblVwbG9hZENsaWNrICgpIHsKICAgICAgdGhpcy5pc1VwbG9hZGluZyA9IHRydWUKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4gewogICAgICAgIHRoaXMuaXNVcGxvYWRpbmcgPSBmYWxzZQogICAgICB9LCB7IG9uY2U6IHRydWUgfSkKCiAgICAgIHRoaXMuJHJlZnMudXBsb2FkZXIuY2xpY2soKQogICAgfSwKCiAgICBwcmludCAoKSB7CiAgICAgIHdpbmRvdy5wcmludCgpCiAgICB9LAoKICAgIHRvZ2dsZVNwZWxsSW5TcGVsbEJvb2sgKCkgewogICAgICBpZiAodGhpcy5pc1NwZWxsSW5TcGVsbEJvb2spIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ215U3BlbGxzL3JlbW92ZVNwZWxsJywgdGhpcy5zcGVsbCkKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFNuYWNrYmFyVGV4dCcsICJMZSBzb3J0ICIgKyB0aGlzLnNwZWxsLnRpdGxlICsgIiBhIMOpdMOpIHN1cHByaW3DqSBkZSB2b3RyZSBncmltb2lyZSIpCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc09wZW5TbmFja2JhcicsIHRydWUpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdteVNwZWxscy9hZGRTcGVsbCcsIHRoaXMuc3BlbGwpCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRTbmFja2JhclRleHQnLCAiTGUgc29ydCAiICsgdGhpcy5zcGVsbC50aXRsZSArICIgYSDDqXTDqSBham91dMOpIMOgIHZvdHJlIGdyaW1vaXJlIikKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldElzT3BlblNuYWNrYmFyJywgdHJ1ZSkKICAgICAgfQogICAgfSwKCiAgICB1cGRhdGVTcGVsbEluU3BlbGxCb29rICgpIHsKICAgICAgaWYgKHRoaXMuaXNTcGVsbEluU3BlbGxCb29rKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdteVNwZWxscy91cGRhdGVTcGVsbCcsIHRoaXMuc3BlbGwpCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRTbmFja2JhclRleHQnLCAiTGUgc29ydCBhIMOpdMOpIG1pcyDDoCBqb3VyIGRhbnMgdm90cmUgZ3JpbW9pcmUiKQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNPcGVuU25hY2tiYXInLCB0cnVlKQogICAgICB9CiAgICB9LAoKICAgIHJlc2V0ICgpIHsKICAgICAgdGhpcy5zcGVsbCA9IHsKICAgICAgICBjdXN0b206IHRydWUsCiAgICAgICAgcGlkOiAnc3BlbGwnLAogICAgICAgIGtleTogTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpLAogICAgICAgIGF1dGhvcjogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIGZyb250bWF0dGVyOiB7CiAgICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgICBjbGFzc2VzOiAnJywKICAgICAgICAgIGN1c3RvbUNsYXNzZXM6ICcnLAogICAgICAgICAgc2Nob29sOiAnJywKICAgICAgICAgIGxldmVsOiAnJywKICAgICAgICAgIHJpdHVhbDogZmFsc2UsCiAgICAgICAgICBjYXN0aW5nX3RpbWU6ICcnLAogICAgICAgICAgcmFuZ2U6ICcnLAogICAgICAgICAgZHVyYXRpb246ICcnLAogICAgICAgICAgY29uY2VudHJhdGlvbjogZmFsc2UsCiAgICAgICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgICAgIHZlcmJhbDogZmFsc2UsCiAgICAgICAgICAgIHNvbWF0aWM6IGZhbHNlLAogICAgICAgICAgICBtYXRlcmlhbDogZmFsc2UsCiAgICAgICAgICAgIG1hdGVyaWFsczogbnVsbAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBzaGFyZSAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0U2hhcmVVUkknLCBlbmNvZGUodGhpcy5zcGVsbCkpCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNPcGVuU2hhcmVIb21lYnJld0RpYWxvZycsIHRydWUpCiAgICB9CiAgfSwKCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEhhc1JpZ2h0RHJhd2VyJywgZmFsc2UpCiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFJpZ2h0RHJhd2VyJywgdGhpcy4kdnVldGlmeS5icmVha3BvaW50LmxnQW5kVXApCiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEluUmlnaHREcmF3ZXInLCBudWxsKQoKICAgIHRoaXMuJHBhZ2UudGl0bGUgPSAiQ3LDqWF0aW9uIGRlIHNvcnQiCgogICAgbGV0IHNwZWxsS2V5ID0gZ2V0VXJsUGFyYW1ldGVyKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCAia2V5IikKCiAgICBpZiAoc3BlbGxLZXkpIHsKICAgICAgZm9yIChsZXQgc3BlbGwgb2YgdGhpcy4kc3RvcmUuc3RhdGUubXlTcGVsbHMuc3BlbGxzKSB7CiAgICAgICAgaWYgKHNwZWxsLmtleSA9PSBzcGVsbEtleSkgewogICAgICAgICAgdGhpcy5zcGVsbCA9IHNwZWxsCiAgICAgICAgICBpZiAoIXRoaXMuc3BlbGwuY3VzdG9tKSB7CiAgICAgICAgICAgIHRoaXMuc3BlbGwuY29udGVudCA9IHNwZWxsLnJhd0NvbnRlbnQKICAgICAgICAgICAgdGhpcy5zcGVsbC5jdXN0b20gPSB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLnNwZWxsLmtleSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KQogICAgfQogIH0KfQo="},{"version":3,"sources":["CreateSpellLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateSpellLayout.vue","sourceRoot":"docs/.vuepress/theme/layouts","sourcesContent":["<template>\n  <div class=\"create-spell\">\n    <div class=\"d-flex flex-wrap align-center d-print-none\">\n      <Breadcrumb class=\"mr-auto mb-4\" />\n\n    </div>\n\n    <h1 class=\"d-print-none\">Création de sort</h1>\n\n    <div class=\"my-4 d-flex flex-wrap d-print-none\">\n      <v-btn outlined color=\"accent\" class=\"mr-1 mb-1\" depressed @click=\"print\"><v-icon left>mdi-printer</v-icon> Imprimer</v-btn>\n      <v-btn outlined color=\"accent\" class=\"mr-1 mb-1\" depressed @click=\"download\"><v-icon left>mdi-file-download</v-icon> Sauvegarder</v-btn>\n      <v-btn outlined color=\"accent\" class=\"mr-1 mb-1\" depressed :loading=\"isUploading\" @click=\"onUploadClick\">\n        <v-icon left>mdi-file-upload</v-icon> Charger\n      </v-btn>\n      <input ref=\"uploader\" class=\"d-none\" type=\"file\" @change=\"upload\">\n      <v-btn :outlined=\"!isSpellInSpellBook\" color=\"accent\" class=\"mr-1 mb-1\" depressed @click=\"toggleSpellInSpellBook\"><v-icon left>mdi-book</v-icon> {{ displayToggleSpellButton }}</v-btn>\n      <v-btn :disabled=\"!isSpellInSpellBook\" outlined color=\"accent\" class=\"mr-1 mb-1\" depressed @click=\"updateSpellInSpellBook\"><v-icon left>mdi-update</v-icon> MàJ dans le grimoire</v-btn>\n      <v-btn outlined color=\"error\" class=\"mr-1 mb-1\" depressed @click=\"reset\"><v-icon left>mdi-eraser</v-icon> Réinitialiser</v-btn>\n      <v-btn outlined class=\"mb-1\" depressed @click=\"share\"><v-icon left>mdi-share-variant</v-icon> Partager</v-btn>\n    </div>\n\n    <v-row>\n      <v-col class=\"d-print-none\" :cols=\"12\" :md=\"6\">\n\n        <v-row>\n          <v-col :cols=\"12\" :lg=\"3\">\n            <v-text-field label=\"Nom\" placeholder=\"Projectile magique\" outlined dense v-model=\"spell.title\"></v-text-field>\n          </v-col>\n          <v-col :cols=\"12\" :sm=\"4\" :lg=\"3\">\n            <v-select :items=\"schools\" label=\"École\" outlined dense v-model=\"spell.frontmatter.school\"></v-select>\n          </v-col>\n          <v-col :cols=\"12\" :sm=\"4\" :lg=\"3\">\n            <v-select :items=\"levels\" item-text=\"label\" item-value=\"value\" label=\"Niveau\" outlined dense v-model=\"spell.frontmatter.level\"></v-select>\n          </v-col>\n          <v-col v:cols=\"12\" :sm=\"4\" :lg=\"3\">\n            <v-switch class=\"my-0\" v-model=\"spell.frontmatter.ritual\" label=\"Rituel\" dense></v-switch>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col :cols=\"12\" :sm=\"6\" :lg=\"3\">\n            <v-text-field label=\"Temps d'incantation\" placeholder=\"1 action\" outlined dense v-model=\"spell.frontmatter.casting_time\"></v-text-field>\n          </v-col>\n          <v-col :cols=\"12\" :sm=\"6\" :lg=\"3\">\n            <v-text-field label=\"Portée\" placeholder=\"36 m\" outlined dense v-model=\"spell.frontmatter.range\"></v-text-field>\n          </v-col>\n          <v-col :cols=\"12\" :sm=\"6\" :lg=\"3\">\n            <v-text-field label=\"Durée\" placeholder=\"instantanée\" outlined dense v-model=\"spell.frontmatter.duration\"></v-text-field>\n          </v-col>\n          <v-col :cols=\"12\" :sm=\"6\" :lg=\"3\">\n            <v-switch class=\"my-0\" v-model=\"spell.frontmatter.concentration\" label=\"Concentration\" dense></v-switch>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col>\n            <v-switch class=\"my-0\" v-model=\"spell.frontmatter.components.verbal\" label=\"Verbale\" dense></v-switch>\n          </v-col>\n          <v-col>\n            <v-switch class=\"my-0\" v-model=\"spell.frontmatter.components.somatic\" label=\"Somatique\" dense></v-switch>\n          </v-col>\n          <v-col>\n            <v-switch class=\"my-0\" v-model=\"spell.frontmatter.components.material\" label=\"Matérielle\" dense></v-switch>\n          </v-col>\n          <v-col v-if=\"spell.frontmatter.components.material\">\n            <v-text-field label=\"Composantes matérielles\" outlined dense v-model=\"spell.frontmatter.components.materials\"></v-text-field>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col>\n            <v-select :items=\"classes\" multiple clearable label=\"Disponible pour les classes de :\" outlined dense v-model=\"spell.frontmatter.classes\"></v-select>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col>\n            <v-text-field label=\"Classes personnalisées\" placeholder=\"Forgesort\" outlined dense v-model=\"spell.frontmatter.customClasses\"></v-text-field>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col>\n            <v-text-field outlined label=\"Résumé\" v-model=\"spell.frontmatter.description\"></v-text-field>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col>\n            <v-textarea outlined label=\"Description\" v-model=\"spell.content\" hide-details></v-textarea>\n            <MarkdownDoc />\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col>\n            <v-text-field outlined label=\"Auteur\" v-model=\"spell.author\"></v-text-field>\n          </v-col>\n        </v-row>\n\n      </v-col>\n\n      <v-col :cols=\"12\" :md=\"6\">\n        <Spell :spell=\"spell\" />\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from '@theme/components/Breadcrumb'\nimport Spell from '@theme/components/Spell'\nimport MarkdownDoc from '@theme/components/MarkdownDoc'\nimport { saveAs } from 'file-saver'\nimport { CLASSES } from '../../data/classes'\nimport { SPELLSCHOOLS, SPELLLEVELS } from '../../data/spells'\nimport { getUrlParameter } from '@theme/util/filterHelpers'\nimport { isResourceInLibrary } from '@theme/util'\nimport { encode } from '@theme/util/homebrew'\nimport slugify from 'slugify'\nslugify.extend({\"'\": '-'})\n\nexport default {\n  name: 'CreateSpellLayout',\n\n  components: {\n    Breadcrumb,\n    Spell,\n    MarkdownDoc\n  },\n\n  computed: {\n    isSpellInSpellBook () {\n      return isResourceInLibrary(this.spell, this.$store.state.mySpells.spells)\n    },\n\n    displayToggleSpellButton () {\n      if (this.isSpellInSpellBook) {\n        return 'Supprimer de mon grimoire'\n      }\n      return 'Ajouter à mon grimoire'\n    },\n  },\n\n  data () {\n    return {\n      isUploading: false,\n      schools: SPELLSCHOOLS,\n      levels: SPELLLEVELS,\n      classes: CLASSES,\n      spell: {\n        custom: true,\n        pid: 'spell',\n        key: null,\n        author: '',\n        title: '',\n        content: '',\n        frontmatter: {\n          description: '',\n          classes: '',\n          customClasses: '',\n          school: '',\n          level: '',\n          ritual: false,\n          casting_time: '',\n          range: '',\n          duration: '',\n          concentration: false,\n          components: {\n            verbal: false,\n            somatic: false,\n            material: false,\n            materials: null\n          }\n        }\n      }\n    }\n  },\n\n  methods: {\n    download () {\n      let filename = \"sort.json\"\n      if (this.spell.title !== '') {\n        filename = slugify(this.spell.title, {lower: true, strict: true}) + '.json'\n      }\n      saveAs(new Blob([JSON.stringify(this.spell)], {\n          type: \"text/plain;charset=utf-8\"\n      }), filename)\n    },\n\n    upload (e) {\n      let file = e.target.files[0]\n      if (!file) {\n        return\n      }\n      let reader = new FileReader()\n      let self = this\n\n      reader.onload = function() {\n        let result = JSON.parse(reader.result)\n        if (result.pid == 'spell') {\n          self.spell = result\n          self.$store.commit('setSnackbarText', \"Le sort \" + self.spell.title + \" a été chargé\")\n          self.$store.commit('setIsOpenSnackbar', true)\n        } else {\n          self.$store.commit('setSnackbarText', \"Le fichier est invalide\")\n          self.$store.commit('setIsOpenSnackbar', true)\n        }\n      }\n\n      reader.readAsText(file)\n      this.$refs.uploader.value = ''\n    },\n\n    onUploadClick () {\n      this.isUploading = true\n      window.addEventListener('focus', () => {\n        this.isUploading = false\n      }, { once: true })\n\n      this.$refs.uploader.click()\n    },\n\n    print () {\n      window.print()\n    },\n\n    toggleSpellInSpellBook () {\n      if (this.isSpellInSpellBook) {\n        this.$store.commit('mySpells/removeSpell', this.spell)\n        this.$store.commit('setSnackbarText', \"Le sort \" + this.spell.title + \" a été supprimé de votre grimoire\")\n        this.$store.commit('setIsOpenSnackbar', true)\n      } else {\n        this.$store.commit('mySpells/addSpell', this.spell)\n        this.$store.commit('setSnackbarText', \"Le sort \" + this.spell.title + \" a été ajouté à votre grimoire\")\n        this.$store.commit('setIsOpenSnackbar', true)\n      }\n    },\n\n    updateSpellInSpellBook () {\n      if (this.isSpellInSpellBook) {\n        this.$store.commit('mySpells/updateSpell', this.spell)\n        this.$store.commit('setSnackbarText', \"Le sort a été mis à jour dans votre grimoire\")\n        this.$store.commit('setIsOpenSnackbar', true)\n      }\n    },\n\n    reset () {\n      this.spell = {\n        custom: true,\n        pid: 'spell',\n        key: Math.random().toString(36).substr(2, 9),\n        author: '',\n        title: '',\n        content: '',\n        frontmatter: {\n          description: '',\n          classes: '',\n          customClasses: '',\n          school: '',\n          level: '',\n          ritual: false,\n          casting_time: '',\n          range: '',\n          duration: '',\n          concentration: false,\n          components: {\n            verbal: false,\n            somatic: false,\n            material: false,\n            materials: null\n          }\n        }\n      }\n    },\n\n    share () {\n      this.$store.commit('setShareURI', encode(this.spell))\n      this.$store.commit('setIsOpenShareHomebrewDialog', true)\n    }\n  },\n\n  mounted () {\n    this.$store.commit('setHasRightDrawer', false)\n    this.$store.commit('setRightDrawer', this.$vuetify.breakpoint.lgAndUp)\n    this.$store.commit('setInRightDrawer', null)\n\n    this.$page.title = \"Création de sort\"\n\n    let spellKey = getUrlParameter(window.location.href, \"key\")\n\n    if (spellKey) {\n      for (let spell of this.$store.state.mySpells.spells) {\n        if (spell.key == spellKey) {\n          this.spell = spell\n          if (!this.spell.custom) {\n            this.spell.content = spell.rawContent\n            this.spell.custom = true\n          }\n        }\n      }\n    } else {\n      this.spell.key = Math.random().toString(36).substr(2, 9)\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"]}]}