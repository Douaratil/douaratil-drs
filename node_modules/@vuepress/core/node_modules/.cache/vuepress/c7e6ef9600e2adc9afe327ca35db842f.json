{"remainingRequest":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/components/MyMonsters.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/components/MyMonsters.vue","mtime":1640161622028},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/babel-loader/lib/index.js","mtime":1640785878529},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js","mtime":1640785880897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNb25zdGVyIGZyb20gJ0B0aGVtZS9jb21wb25lbnRzL01vbnN0ZXInCmltcG9ydCB7IGRpc3BsYXlDaGFsbGVuZ2UgfSBmcm9tICdAdGhlbWUvdXRpbC9tb25zdGVySGVscGVycycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTXlNb25zdGVycycsCgogIGNvbXBvbmVudHM6IHsKICAgIE1vbnN0ZXIKICB9LAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvcnRCeTogJ3RpdGxlJywKICAgICAgc29ydERlc2M6IGZhbHNlLAogICAgICBoZWFkZXJzOiBbCiAgICAgICAgeyB0ZXh0OiAiTm9tIiwgYWxpZ246ICdzdGFydCcsIHNvcnRhYmxlOiB0cnVlLCB2YWx1ZTogJ3RpdGxlJyB9LAogICAgICAgIHsgdGV4dDogIklEIiwgYWxpZ246ICdjZW50ZXInLCBzb3J0YWJsZTogdHJ1ZSwgdmFsdWU6ICdmcm9udG1hdHRlci5jaGFsbGVuZ2UnIH0sCiAgICAgICAgeyB0ZXh0OiAiVHlwZSIsIGFsaWduOiAnc3RhcnQnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnZnJvbnRtYXR0ZXIudHlwZScgfSwKICAgICAgICB7IHRleHQ6ICJUYWlsbGUiLCBhbGlnbjogJ2NlbnRlcicsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdmcm9udG1hdHRlci5zaXplJyB9LAogICAgICAgIHsgdGV4dDogIlNvdXMtdHlwZSIsIGFsaWduOiAnc3RhcnQnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnZnJvbnRtYXR0ZXIuc3VidHlwZScgfSwKICAgICAgICB7IHRleHQ6ICJFbnZpcm9ubmVtZW50cyIsIGFsaWduOiAnc3RhcnQnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnZnJvbnRtYXR0ZXIuZW52aXJvbm1lbnRzJyB9LAogICAgICAgIHsgdGV4dDogIlR5cGUgZGUgZG9uam9ucyIsIGFsaWduOiAnc3RhcnQnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnZnJvbnRtYXR0ZXIuZHVuZ2VvblR5cGVzJyB9LAogICAgICAgIHsgdGV4dDogIiIsIGFsaWduOiAnY2VudGVyJywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ2FjdGlvbnMnIH0sCiAgICAgIF0KICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgbW9uc3RlcnMgKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubXlNb25zdGVycy5tb25zdGVycwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGRpc3BsYXlMaXN0IChsaXN0KSB7IHJldHVybiBsaXN0LmpvaW4oJywgJykgfSwKICAgIGRpc3BsYXlDaGFsbGVuZ2UgKGNoYWxsZW5nZSkgeyByZXR1cm4gZGlzcGxheUNoYWxsZW5nZShjaGFsbGVuZ2UpIH0sCiAgICB0b2dnbGVIaWRlUHJpbnQgKG1vbnN0ZXIpIHsKICAgICAgaWYgKHRoaXMuaXNIaWRkZW5QcmludChtb25zdGVyKSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbXlNb25zdGVycy9yZW1vdmVOb3RQcmludGVkTW9uc3RlcicsIG1vbnN0ZXIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdteU1vbnN0ZXJzL2FkZE5vdFByaW50ZWRNb25zdGVyJywgbW9uc3RlcikKICAgICAgfQogICAgfSwKICAgIGlzSGlkZGVuUHJpbnQgKG1vbnN0ZXIpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLm15TW9uc3RlcnMubm90UHJpbnRlZE1vbnN0ZXJzKSB7CiAgICAgICAgbGV0IGlkeCA9IHRoaXMuJHN0b3JlLnN0YXRlLm15TW9uc3RlcnMubm90UHJpbnRlZE1vbnN0ZXJzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ua2V5ID09IG1vbnN0ZXIua2V5KQogICAgICAgIGlmIChpZHggPj0gMCkgewogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlCiAgICB9LAogICAgb25DbGlja1JvdyAocm93LCBpdGVtKSB7CiAgICAgIGl0ZW0uZXhwYW5kKCFpdGVtLmlzRXhwYW5kZWQpCiAgICB9LAogICAgcmVtb3ZlTW9uc3RlciAobW9uc3RlcikgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ215TW9uc3RlcnMvcmVtb3ZlTW9uc3RlcicsIG1vbnN0ZXIpCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0U25hY2tiYXJUZXh0JywgIkxlIG1vbnN0cmUgIiArIG1vbnN0ZXIudGl0bGUgKyAiIGEgw6l0w6kgc3VwcHJpbcOpIGRlIHZvdHJlIGJlc3RpYWlyZSIpCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNPcGVuU25hY2tiYXInLCB0cnVlKQogICAgfSwKICAgIHNoYXJlIChpdGVtKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0U2hhcmVVUkknLCBlbmNvZGUoaXRlbSkpCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNPcGVuU2hhcmVIb21lYnJld0RpYWxvZycsIHRydWUpCiAgICB9LAogICAgZ2V0TW9uc3RlciAoaXRlbSkgewogICAgICBpZiAoIWl0ZW0uY3VzdG9tICYmIGl0ZW0ucGF0aCkgewogICAgICAgIGxldCBtb25zdGVyID0gdGhpcy4kc2l0ZS5wYWdlcy5maW5kKChlbCkgPT4gZWwucGF0aCA9PT0gaXRlbS5wYXRoIHx8IGVsLnBhdGggPT09IGl0ZW0ucGF0aCArICIvIikKICAgICAgICByZXR1cm4gbW9uc3RlcgogICAgICB9CiAgICAgIHJldHVybiBpdGVtCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["MyMonsters.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyMonsters.vue","sourceRoot":"docs/.vuepress/theme/components","sourcesContent":["<template>\n  <main class=\"page content\">\n    <div class=\"theme-default-content\">\n      <template v-if=\"monsters.length > 0\">\n\n        <div class=\"d-print-none mb-12\">\n\n          <v-data-table\n            class=\"data-table\"\n            :headers=\"headers\"\n            :items=\"monsters\"\n            item-key=\"key\"\n            :sort-by=\"sortBy\"\n            :sort-desc=\"sortDesc\"\n            must-sort\n            :items-per-page=\"-1\"\n            hide-default-footer\n            show-expand\n            @click:row=\"onClickRow\"\n          >\n\n            <template v-slot:expanded-item=\"{ headers, item }\">\n              <td :colspan=\"headers.length\" class=\"pa-4\">\n                <Monster class=\"column-count-2\" :monster=\"getMonster(item)\" />\n              </td>\n            </template>\n\n            <template v-slot:item.title=\"{ item }\">\n              <span class=\"subtitle-2\">{{ item.title }}</span>\n            </template>\n\n            <template v-slot:item.frontmatter.challenge=\"{ item }\">\n              <span>{{ displayChallenge(item.frontmatter.challenge) }}</span>\n            </template>\n\n            <template v-slot:item.frontmatter.environments=\"{ item }\">\n              <span v-if=\"item.frontmatter.environments\">{{ displayList(item.frontmatter.environments) }}</span>\n            </template>\n\n            <template v-slot:item.frontmatter.dungeonTypes=\"{ item }\">\n              <span v-if=\"item.frontmatter.dungeonTypes\">{{ displayList(item.frontmatter.dungeonTypes) }}</span>\n            </template>\n\n            <template v-slot:item.actions=\"{ item }\">\n              <div class=\"text-no-wrap\">\n                <v-btn class=\"d-print-none\" v-if=\"item.custom\" small depressed icon @click=\"share(item)\"><v-icon>mdi-share-variant</v-icon></v-btn>\n                <v-btn class=\"d-print-none mr-2\" small depressed icon @click.stop=\"toggleHidePrint(item)\">\n                  <v-icon v-if=\"isHiddenPrint(item)\">mdi-printer-off</v-icon>\n                  <v-icon v-else>mdi-printer</v-icon>\n                </v-btn>\n                <v-btn v-if=\"item.custom\" class=\"d-print-none mr-2\" small depressed link icon :to=\"{ path: '/creation-de-monstre-pnj/', query: { key: item.key } }\"><v-icon>mdi-pencil</v-icon></v-btn>\n                <v-btn color=\"error\" class=\"d-print-none\" small depressed icon @click=\"removeMonster(item)\"><v-icon>mdi-delete</v-icon></v-btn>\n              </div>\n            </template>\n\n          </v-data-table>\n        </div>\n\n        <div class=\"d-none d-print-block column-count-2\">\n          <div v-for=\"monster in monsters\">\n            <div v-if=\"!isHiddenPrint(monster)\">\n              <h1 class=\"d-flex align-center\">\n                <div class=\"mr-4\">{{ monster.title }}</div>\n                <v-btn class=\"d-print-none mr-2\" small depressed link :to=\"{ path: '/creation-de-monstre-pnj/', query: { key: monster.key } }\"><v-icon left>mdi-pencil</v-icon> Modifier</v-btn>\n                <v-btn color=\"error\" class=\"d-print-none\" small depressed @click=\"removeMonster(monster)\"><v-icon left>mdi-delete</v-icon> Supprimer</v-btn>\n              </h1>\n              <Monster :monster=\"getMonster(monster)\" :isList=\"true\" :hideTitle=\"true\" />\n            </div>\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        Vous n'avez recensé aucun monstre dans votre bestiaire.\n      </template>\n    </div>\n\n  </main>\n</template>\n\n<script>\nimport Monster from '@theme/components/Monster'\nimport { displayChallenge } from '@theme/util/monsterHelpers'\n\nexport default {\n  name: 'MyMonsters',\n\n  components: {\n    Monster\n  },\n\n  data () {\n    return {\n      sortBy: 'title',\n      sortDesc: false,\n      headers: [\n        { text: \"Nom\", align: 'start', sortable: true, value: 'title' },\n        { text: \"ID\", align: 'center', sortable: true, value: 'frontmatter.challenge' },\n        { text: \"Type\", align: 'start', sortable: false, value: 'frontmatter.type' },\n        { text: \"Taille\", align: 'center', sortable: false, value: 'frontmatter.size' },\n        { text: \"Sous-type\", align: 'start', sortable: false, value: 'frontmatter.subtype' },\n        { text: \"Environnements\", align: 'start', sortable: false, value: 'frontmatter.environments' },\n        { text: \"Type de donjons\", align: 'start', sortable: false, value: 'frontmatter.dungeonTypes' },\n        { text: \"\", align: 'center', sortable: false, value: 'actions' },\n      ]\n    }\n  },\n\n  computed: {\n    monsters () {\n      return this.$store.state.myMonsters.monsters\n    }\n  },\n\n  methods: {\n    displayList (list) { return list.join(', ') },\n    displayChallenge (challenge) { return displayChallenge(challenge) },\n    toggleHidePrint (monster) {\n      if (this.isHiddenPrint(monster)) {\n        this.$store.commit('myMonsters/removeNotPrintedMonster', monster)\n      } else {\n        this.$store.commit('myMonsters/addNotPrintedMonster', monster)\n      }\n    },\n    isHiddenPrint (monster) {\n      if (this.$store.state.myMonsters.notPrintedMonsters) {\n        let idx = this.$store.state.myMonsters.notPrintedMonsters.findIndex(item => item.key == monster.key)\n        if (idx >= 0) {\n          return true\n        }\n      }\n      return false\n    },\n    onClickRow (row, item) {\n      item.expand(!item.isExpanded)\n    },\n    removeMonster (monster) {\n      this.$store.commit('myMonsters/removeMonster', monster)\n      this.$store.commit('setSnackbarText', \"Le monstre \" + monster.title + \" a été supprimé de votre bestiaire\")\n      this.$store.commit('setIsOpenSnackbar', true)\n    },\n    share (item) {\n      this.$store.commit('setShareURI', encode(item))\n      this.$store.commit('setIsOpenShareHomebrewDialog', true)\n    },\n    getMonster (item) {\n      if (!item.custom && item.path) {\n        let monster = this.$site.pages.find((el) => el.path === item.path || el.path === item.path + \"/\")\n        return monster\n      }\n      return item\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n</style>\n"]}]}