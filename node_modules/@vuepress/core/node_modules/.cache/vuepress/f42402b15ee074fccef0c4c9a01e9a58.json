{"remainingRequest":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/layouts/GlobalLayout.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/layouts/GlobalLayout.vue","mtime":1634294763189},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmZvb3Rlci1wYWRkaW5nLWxlZnQgewogIHBhZGRpbmctbGVmdDogMzAwcHg7Cn0KLmZvb3Rlci1wYWRkaW5nLXJpZ2h0IHsKICBwYWRkaW5nLXJpZ2h0OiAzMDBweDsKfQoucmlnaHQtZHJhd2VyLWJ1dHRvbiB7CiAgdG9wOiAxNTBweCAhaW1wb3J0YW50Owp9Ci5yaWdodC1kcmF3ZXItYnV0dG9uLW9wZW4gewogIHJpZ2h0OiAyODBweCAhaW1wb3J0YW50Owp9Ci5yaWdodC1kcmF3ZXItYnV0dG9uLWNsb3NlIHsKICByaWdodDogLTIwcHggIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["GlobalLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GlobalLayout.vue","sourceRoot":"docs/.vuepress/theme/layouts","sourcesContent":["\n<template>\n  <v-app class=\"srd\">\n\n    <v-overlay :value=\"$store.state.loading\">\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\n    </v-overlay>\n\n    <NavDrawer class=\"d-print-none\" />\n    <RightDrawer class=\"d-print-none\" v-if=\"hasRightDrawer\" />\n\n    <Navbar class=\"d-print-none\" />\n\n    <v-content>\n      <v-container fluid ref=\"container\">\n        <v-row align=\"start\" justify=\"center\">\n          <v-col cols=\"12\">\n            <DefaultGlobalLayout/>\n          </v-col>\n        </v-row>\n\n      </v-container>\n\n      <v-btn v-show=\"$vuetify.breakpoint.lgAndUp && $store.state.hasRightDrawer\" color=\"primary\" @click.stop=\"setRightDrawer\" :class=\"rightDrawerButtonCSS()\" small top right fixed fab>\n        <v-icon v-if=\"$store.state.rightDrawer\">mdi-chevron-right</v-icon>\n        <v-icon v-else left>mdi-chevron-left</v-icon>\n      </v-btn>\n\n      <v-fab-transition>\n        <v-btn color=\"primary\" class=\"d-print-none\" fab bottom right fixed @click=\"toTop\" v-show=\"toTopButton\" v-scroll=\"onScroll\">\n          <v-icon class=\"d-print-none\">mdi-chevron-up</v-icon>\n        </v-btn>\n    </v-fab-transition>\n    </v-content>\n\n    <v-bottom-sheet v-model=\"cookieConsentDialog\" hide-overlay>\n      <v-sheet class=\"\" tile>\n        <div class=\"container text-center text-md-left d-md-flex align-md-center justify-md-space-between py-3 body-2\">\n          <div>Ce site utilise des cookies pour son bon fonctionnement uniquement et n'utilise pas vos données à d'autres fins que la simple navigation. </div>\n          <v-btn class=\"my-4 my-md-0\" color=\"primary\" @click=\"setCookieConsent\">Compris</v-btn>\n        </div>\n      </v-sheet>\n    </v-bottom-sheet>\n\n    <v-snackbar v-model=\"$store.state.isOpenSnackbar\">\n      {{ $store.state.snackbarText }}\n      <v-btn color=\"red\" text @click=\"$store.commit('setIsOpenSnackbar', false)\">\n        Fermer\n      </v-btn>\n    </v-snackbar>\n\n    <v-dialog v-model=\"$store.state.isOpenShareHomebrewDialog\" @click:outside=\"$store.commit('setIsOpenShareHomebrewDialog', !$store.state.isOpenShareHomebrewDialog)\" max-width=\"600\">\n      <v-card>\n        <v-card-title class=\"headline d-flex justify-space-between\">\n          <span>Partage</span></span>\n          <v-btn color=\"primary\" icon @click=\"$store.commit('setIsOpenShareHomebrewDialog', !$store.state.isOpenShareHomebrewDialog)\"><v-icon>mdi-close</v-icon></v-btn>\n        </v-card-title>\n\n        <v-card-text>\n          <v-text-field id=\"copy-uri\" outlined readonly label=\"Copiez le lien pour partager\" :hint=\"hintCopied\" :value=\"$site.themeConfig.domain + '/homebrew/?h=' + $store.state.shareURI\" append-outer-icon=\"mdi-content-copy\" @click:append-outer=\"copyURI('copy-uri')\"></v-text-field>\n          <div class=\"text-center\">\n            <v-btn color=\"accent\" depressed link :to=\"{ path: '/homebrew/', query: { h: $store.state.shareURI }}\" @click=\"$store.commit('setIsOpenShareHomebrewDialog', !$store.state.isOpenShareHomebrewDialog)\">Voir la page</v-btn>\n          </div>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n\n  </v-app>\n</template>\n\n<script>\nimport GlobalLayout from '@app/components/GlobalLayout.vue'\nimport Navbar from '@theme/components/Navbar.vue'\nimport NavDrawer from '@theme/components/NavDrawer.vue'\nimport RightDrawer from '@theme/components/RightDrawer.vue'\nimport Vue from 'vue'\nimport Cookies from 'js-cookie'\n\nexport default {\n  name: 'GlobalLayout',\n\n  components: {\n    DefaultGlobalLayout: GlobalLayout,\n    Navbar,\n    NavDrawer,\n    RightDrawer\n  },\n\n  computed: {\n  },\n\n  data () {\n    return {\n      cookieConsentDialog: true,\n      toTopButton: false,\n      hintCopied: ''\n    }\n  },\n\n  computed: {\n    footerCSS () {\n      let css = ''\n      if (this.$store.state.drawer) {\n        css += ' footer-padding-left'\n      }\n      if (this.$store.state.rightDrawer) {\n        css += ' footer-padding-right'\n      }\n      return css\n    },\n    hasRightDrawer() {\n      return this.$store.state.hasRightDrawer\n    }\n  },\n\n  mounted () {\n    this.$store.commit('setLoading', false) // Page chargée\n    this.$store.commit('setDrawer', this.$vuetify.breakpoint.lgAndUp)\n\n    // Cookie consent\n    const COOKIECONSENT = Cookies.get('heros-et-dragons-cookies')\n    if (COOKIECONSENT == 'compris') {\n      this.cookieConsentDialog = false\n    }\n\n    // Dark theme\n    const THEMEISDARK = Cookies.get('heros-et-dragons-is-dark')\n    if (THEMEISDARK === 'true') {\n      this.$vuetify.theme.dark = true\n    }\n\n    // Variante 5 royaumes pour les monstres\n    const L5R = Cookies.get('heros-et-dragons-l5r')\n    this.$store.state.l5r = L5R\n\n    // Chargement des données utilisateur depuis le navigateur\n    this.$store.commit('mySpells/initialiseStore')\n    this.$store.commit('myMonsters/initialiseStore')\n    this.$store.commit('myMagicItems/initialiseStore')\n\n    // Loading feedback\n    this.$router.beforeEach((to, from, next) => {\n      if (to.path !== from.path && !Vue.component(to.name)) {\n        this.$store.commit('setLoading', true)\n      }\n      next()\n    })\n\n    this.$router.afterEach(() => {\n      this.$store.commit('setLoading', false)\n    })\n  },\n\n  methods: {\n    setCookieConsent () {\n      Cookies.set('heros-et-dragons-cookies', 'compris')\n      this.cookieConsentDialog = false\n    },\n\n    onScroll (e) {\n      if (typeof window === 'undefined') return\n      const top = window.pageYOffset ||   e.target.scrollTop || 0\n      this.toTopButton = top > 20\n    },\n\n    toTop () {\n      this.$vuetify.goTo(0)\n    },\n\n    rightDrawerButtonCSS () {\n      if (this.$store.state.rightDrawer) {\n        return 'right-drawer-button right-drawer-button-open'\n      }\n      return 'right-drawer-button right-drawer-button-close'\n    },\n\n    setRightDrawer () {\n      this.$store.commit('setRightDrawer', !this.$store.state.rightDrawer)\n    },\n\n    copyURI (id) {\n      let toCopy = document.getElementById(id)\n      toCopy.select()\n      document.execCommand( 'copy' )\n      this.hintCopied = \"L'adresse a été copiée dans le presse-papier\"\n      let self = this\n      setTimeout(function () {\n        self.hintCopied = ''\n      }, 2000)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.footer-padding-left {\n  padding-left: 300px;\n}\n.footer-padding-right {\n  padding-right: 300px;\n}\n.right-drawer-button {\n  top: 150px !important;\n}\n.right-drawer-button-open {\n  right: 280px !important;\n}\n.right-drawer-button-close {\n  right: -20px !important;\n}\n</style>\n"]}]}