{"remainingRequest":"/home/olivier/Documents/douaratil-drs/node_modules/babel-loader/lib/index.js??ref--3-1!/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/layouts/MyMonstersLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/olivier/Documents/douaratil-drs/docs/.vuepress/theme/layouts/MyMonstersLayout.vue","mtime":1640161622032},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/babel-loader/lib/index.js","mtime":1640785878529},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/cache-loader/dist/cjs.js","mtime":1640785878621},{"path":"/home/olivier/Documents/douaratil-drs/node_modules/vue-loader/lib/index.js","mtime":1640785880897}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL29saXZpZXIvRG9jdW1lbnRzL2RvdWFyYXRpbC1kcnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQnJlYWRjcnVtYiBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9CcmVhZGNydW1iJzsKaW1wb3J0IE15TW9uc3RlcnMgZnJvbSAnQHRoZW1lL2NvbXBvbmVudHMvTXlNb25zdGVycyc7CmltcG9ydCB7IHNhdmVBcyB9IGZyb20gJ2ZpbGUtc2F2ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ015TW9uc3RlcnNMYXlvdXQnLAogIGNvbXBvbmVudHM6IHsKICAgIEJyZWFkY3J1bWI6IEJyZWFkY3J1bWIsCiAgICBNeU1vbnN0ZXJzOiBNeU1vbnN0ZXJzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNVcGxvYWRpbmc6IGZhbHNlLAogICAgICBjb25maXJtRGVsZXRlRGlhbG9nOiBmYWxzZSwKICAgICAgYWxlcnRPcGVuOiBmYWxzZSwKICAgICAgYWxlcnRUZXh0OiBudWxsLAogICAgICBhbGVydFR5cGU6ICJpbmZvIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRvd25sb2FkOiBmdW5jdGlvbiBkb3dubG9hZCgpIHsKICAgICAgc2F2ZUFzKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5teU1vbnN0ZXJzKV0sIHsKICAgICAgICB0eXBlOiAidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04IgogICAgICB9KSwgImJlc3RpYWlyZS5qc29uIik7CiAgICB9LAogICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoZSkgewogICAgICB2YXIgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwoKICAgICAgaWYgKCFmaWxlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcmVzdWx0ID0gSlNPTi5wYXJzZShyZWFkZXIucmVzdWx0KTsKICAgICAgICB2YXIgaXNWYWxpZCA9IHRydWU7CgogICAgICAgIGlmIChyZXN1bHQubW9uc3RlcnMgJiYgcmVzdWx0Lm1vbnN0ZXJzLmxlbmd0aCA+PSAxKSB7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzdWx0Lm1vbnN0ZXJzKSwKICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBzID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICAgIGlmIChzLnBpZCAhPT0gJ21vbnN0ZXInKSB7CiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgICAgICBzZWxmLiRzdG9yZS5jb21taXQoJ215TW9uc3RlcnMvc2V0TW9uc3RlcnMnLCByZXN1bHQubW9uc3RlcnMpOwoKICAgICAgICAgIGlmIChyZXN1bHQubm90UHJpbnRlZE1vbnN0ZXJzKSB7CiAgICAgICAgICAgIHNlbGYuJHN0b3JlLmNvbW1pdCgnbXlNb25zdGVycy9zZXROb3RQcmludGVkTW9uc3RlcnMnLCByZXN1bHQubm90UHJpbnRlZE1vbnN0ZXJzKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWxmLiRzdG9yZS5jb21taXQoJ3NldFNuYWNrYmFyVGV4dCcsIHNlbGYuJHN0b3JlLnN0YXRlLm15TW9uc3RlcnMubW9uc3RlcnMubGVuZ3RoICsgIiBtb25zdHJlcyBpbnNjcml0cyBkYW5zIHZvdHJlIGJlc3RpYWlyZSIpOwogICAgICAgICAgc2VsZi4kc3RvcmUuY29tbWl0KCdzZXRJc09wZW5TbmFja2JhcicsIHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWxmLiRzdG9yZS5jb21taXQoJ3NldFNuYWNrYmFyVGV4dCcsICJMZSBmaWNoaWVyIGVzdCBpbnZhbGlkZSIpOwogICAgICAgICAgc2VsZi4kc3RvcmUuY29tbWl0KCdzZXRJc09wZW5TbmFja2JhcicsIHRydWUpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpOwogICAgICB0aGlzLiRyZWZzLnVwbG9hZGVyLnZhbHVlID0gJyc7CiAgICB9LAogICAgb25VcGxvYWRDbGljazogZnVuY3Rpb24gb25VcGxvYWRDbGljaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuaXNVcGxvYWRpbmcgPSB0cnVlOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuaXNVcGxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSwgewogICAgICAgIG9uY2U6IHRydWUKICAgICAgfSk7CiAgICAgIHRoaXMuJHJlZnMudXBsb2FkZXIuY2xpY2soKTsKICAgIH0sCiAgICBwcmludDogZnVuY3Rpb24gcHJpbnQoKSB7CiAgICAgIHdpbmRvdy5wcmludCgpOwogICAgfSwKICAgIGNvbmZpcm1EZWxldGlvbjogZnVuY3Rpb24gY29uZmlybURlbGV0aW9uKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ215TW9uc3RlcnMvcmVzZXRNb25zdGVycycpOwogICAgICB0aGlzLmNvbmZpcm1EZWxldGVEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRTbmFja2JhclRleHQnLCAiVm90cmUgYmVzdGlhaXJlIGEgw6l0w6kgZWZmYWPDqSIpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldElzT3BlblNuYWNrYmFyJywgdHJ1ZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRIYXNSaWdodERyYXdlcicsIGZhbHNlKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0UmlnaHREcmF3ZXInLCB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQubGdBbmRVcCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEluUmlnaHREcmF3ZXInLCBudWxsKTsKICB9Cn07"},{"version":3,"sources":["MyMonstersLayout.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"my-monsters\">\n    <div class=\"d-flex align-center mb-4 d-print-none\">\n      <Breadcrumb class=\"mr-auto\" />\n      <v-btn :outlined=\"!$store.state.l5r\" color=\"primary\" class=\"mr-4\" depressed @click=\"$store.commit('setL5r', !$store.state.l5r)\"><span class=\"orn\">8</span> Règles cinq royaumes</v-btn>\n      <v-btn color=\"primary\" class=\"mr-4\" depressed link to=\"/creation-de-monstre-pnj/\"><v-icon left>mdi-plus</v-icon> Créer un monstre</v-btn>\n      <v-btn color=\"primary\" depressed link to=\"/bestiaire/\">Bestiaire</v-btn>\n    </div>\n\n\n    <v-dialog v-model=\"confirmDeleteDialog\" max-width=\"290\">\n      <v-card>\n        <v-card-title class=\"headline\">Supprimer le bestiaire</v-card-title>\n\n        <v-card-text>\n          Cette action supprimera tous les monstres ajoutés à votre bestiaire, y compris les monstres que vous avez créés. Souhaitez vous les supprimer ?\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn depressed @click=\"confirmDeleteDialog = false\">\n            Annuler\n          </v-btn>\n\n          <v-btn color=\"error darken-1\" depressed @click=\"confirmDeletion\">\n            Supprimer\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-alert v-model=\"alertOpen\" :type=\"alertType\" dismissible transition=\"fade-transition\">\n      {{ alertText }}\n    </v-alert>\n\n    <MyMonsters />\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from '@theme/components/Breadcrumb'\nimport MyMonsters from '@theme/components/MyMonsters'\nimport { saveAs } from 'file-saver'\n\nexport default {\n  name: 'MyMonstersLayout',\n\n  components: {\n    Breadcrumb,\n    MyMonsters\n  },\n\n  data () {\n    return {\n      isUploading: false,\n      confirmDeleteDialog: false,\n      alertOpen: false,\n      alertText: null,\n      alertType: \"info\"\n    }\n  },\n\n  methods: {\n    download () {\n      saveAs(new Blob([JSON.stringify(this.$store.state.myMonsters)], {\n          type: \"text/plain;charset=utf-8\"\n      }), \"bestiaire.json\")\n    },\n\n    upload (e) {\n      let file = e.target.files[0]\n      if (!file) {\n        return\n      }\n      let reader = new FileReader()\n      let self = this\n\n      reader.onload = function() {\n        let result = JSON.parse(reader.result)\n        let isValid = true\n        if (result.monsters && result.monsters.length >= 1) {\n          for (var s of result.monsters) {\n            if (s.pid !== 'monster') {\n              isValid = false\n            }\n          }\n        } else {\n          isValid = false\n        }\n        if (isValid) {\n          self.$store.commit('myMonsters/setMonsters', result.monsters)\n          if (result.notPrintedMonsters) {\n            self.$store.commit('myMonsters/setNotPrintedMonsters', result.notPrintedMonsters)\n          }\n          self.$store.commit('setSnackbarText', self.$store.state.myMonsters.monsters.length + \" monstres inscrits dans votre bestiaire\")\n          self.$store.commit('setIsOpenSnackbar', true)\n        } else {\n          self.$store.commit('setSnackbarText', \"Le fichier est invalide\")\n          self.$store.commit('setIsOpenSnackbar', true)\n        }\n      }\n\n      reader.readAsText(file)\n      this.$refs.uploader.value = ''\n    },\n\n    onUploadClick () {\n      this.isUploading = true\n      window.addEventListener('focus', () => {\n        this.isUploading = false\n      }, { once: true })\n\n      this.$refs.uploader.click()\n    },\n\n    print () {\n      window.print()\n    },\n\n    confirmDeletion () {\n      this.$store.commit('myMonsters/resetMonsters')\n      this.confirmDeleteDialog = false\n      this.$store.commit('setSnackbarText', \"Votre bestiaire a été effacé\")\n      this.$store.commit('setIsOpenSnackbar', true)\n    }\n  },\n\n  mounted () {\n    this.$store.commit('setHasRightDrawer', false)\n    this.$store.commit('setRightDrawer', this.$vuetify.breakpoint.lgAndUp)\n    this.$store.commit('setInRightDrawer', null)\n  }\n}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"docs/.vuepress/theme/layouts"}]}