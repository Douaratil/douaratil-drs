(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{433:function(t,e,a){},434:function(t,e,a){"use strict";var i=a(4),n=a(42).find,s=a(108),r=!0;"find"in[]&&Array(1).find((function(){r=!1})),i({target:"Array",proto:!0,forced:r},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("find")},436:function(t,e,a){"use strict";a(433)},437:function(t,e,a){"use strict";a(16),a(43),a(434);var i={name:"Breadcrumb",computed:{bread:function(){var t=this.$page.path.split("/");t[t.length-1].length||t.pop();for(var e="",a=[],i=0;i<t.length;i++){var n=!1;i==t.length-1&&(n=!0),e+=t[i];var s=this.$site.pages.find((function(t){return t.path===e||t.path===e+"/"}));e+="/",null!=s&&("/grimoire/"==s.path?a.push({to:s.path,disabled:n,text:"Grimoire"}):"/classes/"==s.path?a.push({to:s.path,disabled:n,text:"Classes"}):"/bestiaire/"==s.path?a.push({to:s.path,disabled:n,text:"Bestiaire"}):"/liste-objets-magiques/"==s.path?a.push({to:s.path,disabled:n,text:"Liste des objets magiques"}):"/mon-grimoire/"==s.path?a.push({to:s.path,disabled:n,text:"Mon grimoire"}):"/mon-bestiaire/"==s.path?a.push({to:s.path,disabled:n,text:"Mon bestiaire"}):"/mes-objets-magiques/"==s.path?a.push({to:s.path,disabled:n,text:"Mes objets magiques"}):"/creation-de-sort/"==s.path?a.push({to:s.path,disabled:n,text:"Création de sort"}):"/creation-de-monstre-pnj/"==s.path?a.push({to:s.path,disabled:n,text:"Création de monstre ou PNJ"}):"/calculateur-de-caracteristiques/"==s.path?a.push({to:s.path,disabled:n,text:"Calculateur de caractéristiques"}):a.push({to:s.path,disabled:n,text:s.frontmatter.breadcrumb||s.title}))}return a}}},n=(a(436),a(6)),s=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-print-none"},["/"!=t.$route.path?a("v-breadcrumbs",{attrs:{items:t.bread},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item;return[a("v-breadcrumbs-item",{attrs:{to:i.to,exact:!0,disabled:i.disabled}},["/"==i.to?[a("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"/dragon_rouge.svg"}})]:[t._v("\n          "+t._s(i.text)+"\n        ")]],2)]}}],null,!1,567746361)}):a("v-row",{attrs:{justify:"center"}},[a("img",{staticClass:"d-block home-logo",staticStyle:{width:"120px",height:"120px"},attrs:{src:"/dragon_rouge.svg"}})])],1)}),[],!1,null,null,null);e.a=s.exports},438:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a(55),a(56),a(20),a(81),a(22),a(25),a(82);var i=a(85);function n(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(i.a)(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){c=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw r}}}}},443:function(t,e,a){var i,n,s;n=[],void 0===(s="function"==typeof(i=function(){"use strict";function e(t,e,a){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){r(i.response,e,a)},i.onerror=function(){console.error("could not download file")},i.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,s=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,s,r){var o=n.URL||n.webkitURL,c=document.createElement("a");s=s||t.name||"download",c.download=s,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):a(c.href)?e(t,s,r):i(c,c.target="_blank")):(c.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,s),n);else if(a(t))e(t,n,s);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){i(r)}))}}:function(t,a,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,i);var o="application/octet-stream"===t.type,c=/constructor/i.test(n.HTMLElement)||n.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||o&&c||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=m?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var u=n.URL||n.webkitURL,d=u.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});n.saveAs=r.saveAs=r,t.exports=r})?i.apply(e,n):i)||(t.exports=s)},445:function(t,e,a){"use strict";function i(t){return btoa(unescape(encodeURIComponent(JSON.stringify(t))))}function n(t){return JSON.parse(decodeURIComponent(escape(atob(t))))}a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return n}))},449:function(t,e,a){"use strict";var i=a(163),n=a(441),s=a.n(n),r={name:"MagicItem",data:function(){return{md:new s.a}},props:["magicItem","isList","hideTitle"],methods:{displayItemMeta:function(){return Object(i.a)(this.magicItem.frontmatter)}}},o=a(6),c=Object(o.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"page content"},[a("div",{staticClass:"theme-default-content"},[t.hideTitle?t._e():[t.isList?a("h2",[t._v(t._s(t.magicItem.title))]):a("h1",[t._v(t._s(t.magicItem.title))])],t._v(" "),a("div",{staticClass:"magic-item-details title"},[t._v("\n      "+t._s(t.displayItemMeta())+"\n    ")])],2),t._v(" "),t.magicItem.custom?a("div",{staticClass:"mt-4",domProps:{innerHTML:t._s(t.md.render(t.magicItem.content))}}):a("Content",{staticClass:"mt-4",attrs:{pageKey:t.magicItem.key}}),t._v(" "),t.$page.frontmatter.source?a("p",{staticClass:"source"},[t._v("Source : "),a("em",[t._v(t._s(t.$page.frontmatter.source))])]):t._e(),t._v(" "),t.magicItem.author?a("p",{staticClass:"source"},[t._v("Auteur : "),a("em",[t._v(t._s(t.magicItem.author))])]):t._e()],1)}),[],!1,null,null,null);e.a=c.exports},454:function(t,e,a){var i=a(32),n=Date.prototype,s=n.toString,r=n.getTime;new Date(NaN)+""!="Invalid Date"&&i(n,"toString",(function(){var t=r.call(this);return t==t?s.call(this):"Invalid Date"}))},458:function(t,e,a){"use strict";var i={},n=a(6),s=Object(n.a)(i,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"caption text--secondary"},[t._v("\n  Ce champ supporte le "),a("a",{attrs:{href:"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet",target:"_blank"}},[t._v("markdown")]),t._v("."),a("br"),t._v("\n  Exemples d'utilisation :"),a("br"),t._v(" "),a("em",[t._v("_Italique_")]),t._v(", "),a("strong",[t._v("**Gras**")]),t._v(", "),a("em",[a("strong",[t._v("_**Gras italique**_")])]),t._v(", ## Titres"),a("br")])}],!1,null,null,null);e.a=s.exports},535:function(t,e,a){"use strict";a.r(e);var i=a(438),n=(a(454),a(20),a(165),a(437)),s=a(449),r=a(458),o=a(443),c=["Anneau","Arme","Armure","Baguette","Bâton","Objet merveilleux","Parchemin","Potion","Sceptre"],m=["Courant","Peu courant","Rare","Très rare","Légendaire","Artefact"],l=a(2),u=a(445),d=a(54),p=a.n(d);p.a.extend({"'":"-"});var h={name:"CreateMagicItemLayout",components:{Breadcrumb:n.a,MagicItem:s.a,MarkdownDoc:r.a},computed:{isMagicItemInTreasureChest:function(){var t,e=!1,a=Object(i.a)(this.$store.state.myMagicItems.magicItems);try{for(a.s();!(t=a.n()).done;){t.value.key==this.magicItem.key&&(e=!0)}}catch(t){a.e(t)}finally{a.f()}return e},displayToggleMagicItemButton:function(){return this.isMagicItemInTreasureChest?"Supprimer de mes objets magiques":"Ajouter à mes objets magiques"},displayAttunement:function(){return""!==this.customAttunement?this.customAttunement:"harmonisation requise"}},data:function(){return{isUploading:!1,types:c,rarities:m,customAttunement:"",magicItem:{custom:!0,pid:"magicitem",key:null,author:"",title:"",content:"",hasAttunement:!1,frontmatter:{type:"",subtype:"",rarity:"",attunement:""}}}},methods:{download:function(){var t="objet-magique.json";""!==this.magicItem.title&&(t=p()(this.magicItem.title,{lower:!0,strict:!0})+".json"),Object(o.saveAs)(new Blob([JSON.stringify(this.magicItem)],{type:"text/plain;charset=utf-8"}),t)},upload:function(t){var e=t.target.files[0];if(e){var a=new FileReader,i=this;a.onload=function(){var t=JSON.parse(a.result);"magicitem"==t.pid?(i.magicItem=t,i.$store.commit("setSnackbarText","L'objet magique "+i.magicItem.title+" a été chargé"),i.$store.commit("setIsOpenSnackbar",!0)):(i.$store.commit("setSnackbarText","Le fichier est invalide"),i.$store.commit("setIsOpenSnackbar",!0))},a.readAsText(e),this.$refs.uploader.value=""}},onUploadClick:function(){var t=this;this.isUploading=!0,window.addEventListener("focus",(function(){t.isUploading=!1}),{once:!0}),this.$refs.uploader.click()},print:function(){window.print()},toggleMagicItemInTreasureChest:function(){this.isMagicItemInTreasureChest?(this.$store.commit("myMagicItems/removeMagicItem",this.magicItem),this.$store.commit("setSnackbarText","L'objet magique "+this.magicItem.title+" a été supprimé de votre bibliothèque"),this.$store.commit("setIsOpenSnackbar",!0)):(this.$store.commit("myMagicItems/addMagicItem",this.magicItem),this.$store.commit("setSnackbarText","L'objet magique "+this.magicItem.title+" a été ajouté à votre bibliothèque"),this.$store.commit("setIsOpenSnackbar",!0))},updateMagicItemInTreasureChest:function(){this.isMagicItemInTreasureChest&&(this.$store.commit("myMagicItems/updateMagicItem",this.magicItem),this.$store.commit("setSnackbarText","L'objet magique a été mis à jour dans votre bibliothèque"),this.$store.commit("setIsOpenSnackbar",!0))},switchAttunement:function(){this.magicItem.hasAttunement?this.magicItem.frontmatter.attunement="harmonisation requise":this.magicItem.frontmatter.attunement=""},reset:function(){this.customAttunement="",this.magicItem={custom:!0,pid:"magicItem",key:Math.random().toString(36).substr(2,9),author:"",title:"",content:"",hasAttunement:!1,frontmatter:{type:"",subtype:"",rarity:"",attunement:""}}},share:function(){this.$store.commit("setShareURI",Object(u.b)(this.magicItem)),this.$store.commit("setIsOpenShareHomebrewDialog",!0)}},mounted:function(){this.$store.commit("setHasRightDrawer",!1),this.$store.commit("setRightDrawer",this.$vuetify.breakpoint.lgAndUp),this.$store.commit("setInRightDrawer",null),this.$page.title="Création d'objet magique";var t=Object(l.a)(window.location.href,"key");if(t){var e,a=Object(i.a)(this.$store.state.myMagicItems.magicItems);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.key==t&&(this.magicItem=n,this.magicItem.custom||(this.magicItem.content=n.rawContent,this.magicItem.custom=!0))}}catch(t){a.e(t)}finally{a.f()}}else this.magicItem.key=Math.random().toString(36).substr(2,9)}},v=a(6),g=Object(v.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-magic-item"},[a("div",{staticClass:"d-flex flex-wrap align-center d-print-none"},[a("Breadcrumb",{staticClass:"mr-auto mb-4"})],1),t._v(" "),a("h1",{staticClass:"d-print-none"},[t._v("Création d'objet magique")]),t._v(" "),a("div",{staticClass:"my-4 d-flex flex-wrap d-print-none"},[a("v-btn",{staticClass:"mr-1 mb-1",attrs:{outlined:"",color:"accent",depressed:""},on:{click:t.print}},[a("v-icon",[t._v("mdi-printer")]),t._v(" Imprimer")],1),t._v(" "),a("v-btn",{staticClass:"mr-1 mb-1",attrs:{outlined:"",color:"accent",depressed:""},on:{click:t.download}},[a("v-icon",[t._v("mdi-file-download")]),t._v(" Sauvegarder")],1),t._v(" "),a("v-btn",{staticClass:"mr-1 mb-1",attrs:{outlined:"",color:"accent",depressed:"",loading:t.isUploading},on:{click:t.onUploadClick}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-file-upload")]),t._v(" Charger\n    ")],1),t._v(" "),a("input",{ref:"uploader",staticClass:"d-none",attrs:{type:"file"},on:{change:t.upload}}),t._v(" "),a("v-btn",{staticClass:"mr-1 mb-1",attrs:{outlined:!t.isMagicItemInTreasureChest,color:"accent",depressed:""},on:{click:t.toggleMagicItemInTreasureChest}},[a("v-icon",[t._v("mdi-book")]),t._v(" "+t._s(t.displayToggleMagicItemButton))],1),t._v(" "),a("v-btn",{staticClass:"mr-1 mb-1",attrs:{disabled:!t.isMagicItemInTreasureChest,outlined:"",color:"accent",depressed:""},on:{click:t.updateMagicItemInTreasureChest}},[a("v-icon",[t._v("mdi-update")]),t._v(" MàJ dans le grimoire")],1),t._v(" "),a("v-btn",{staticClass:"mr-1 mb-1",attrs:{outlined:"",color:"error",depressed:""},on:{click:t.reset}},[a("v-icon",[t._v("mdi-eraser")]),t._v(" Réinitialiser")],1),t._v(" "),a("v-btn",{staticClass:"mb-1",attrs:{outlined:"",depressed:""},on:{click:t.share}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-share-variant")]),t._v(" Partager")],1)],1),t._v(" "),a("v-row",[a("v-col",{staticClass:"d-print-none",attrs:{cols:12,md:6}},[a("v-row",[a("v-col",{attrs:{cols:12,sm:4}},[a("v-text-field",{attrs:{label:"Nom",outlined:"",dense:""},model:{value:t.magicItem.title,callback:function(e){t.$set(t.magicItem,"title",e)},expression:"magicItem.title"}})],1),t._v(" "),a("v-col",{attrs:{cols:12,sm:4}},[a("v-select",{attrs:{items:t.types,label:"Type",outlined:"",dense:""},model:{value:t.magicItem.frontmatter.type,callback:function(e){t.$set(t.magicItem.frontmatter,"type",e)},expression:"magicItem.frontmatter.type"}})],1),t._v(" "),a("v-col",{attrs:{cols:12,sm:4}},[a("v-select",{attrs:{items:t.rarities,label:"Rareté",outlined:"",dense:""},model:{value:t.magicItem.frontmatter.rarity,callback:function(e){t.$set(t.magicItem.frontmatter,"rarity",e)},expression:"magicItem.frontmatter.rarity"}})],1)],1),t._v(" "),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Sous-type",outlined:"",dense:""},model:{value:t.magicItem.frontmatter.subtype,callback:function(e){t.$set(t.magicItem.frontmatter,"subtype",e)},expression:"magicItem.frontmatter.subtype"}})],1),t._v(" "),a("v-col",[a("v-switch",{staticClass:"my-0",attrs:{label:"Harmonisation",dense:""},on:{change:t.switchAttunement},model:{value:t.magicItem.hasAttunement,callback:function(e){t.$set(t.magicItem,"hasAttunement",e)},expression:"magicItem.hasAttunement"}})],1),t._v(" "),t.magicItem.hasAttunement?a("v-col",[a("v-text-field",{attrs:{label:"Type d'armonisation",outlined:"",dense:""},model:{value:t.magicItem.frontmatter.attunement,callback:function(e){t.$set(t.magicItem.frontmatter,"attunement",e)},expression:"magicItem.frontmatter.attunement"}})],1):t._e()],1),t._v(" "),a("v-row",[a("v-col",[a("v-textarea",{attrs:{outlined:"",label:"Description","hide-details":""},model:{value:t.magicItem.content,callback:function(e){t.$set(t.magicItem,"content",e)},expression:"magicItem.content"}}),t._v(" "),a("MarkdownDoc")],1)],1),t._v(" "),a("v-row",[a("v-col",[a("v-text-field",{attrs:{outlined:"",label:"Auteur"},model:{value:t.magicItem.author,callback:function(e){t.$set(t.magicItem,"author",e)},expression:"magicItem.author"}})],1)],1)],1),t._v(" "),a("v-col",{attrs:{col:6}},[a("MagicItem",{attrs:{magicItem:t.magicItem}})],1)],1)],1)}),[],!1,null,null,null);e.default=g.exports}}]);